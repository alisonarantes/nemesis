<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEMESIS COMPANION</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="scanlines"></div>
<div class="overlay-vignette"></div>

<div id="alert-modal" class="modal-overlay hidden">
    <div class="modal-box alert-box-style">
        <h2 id="alert-title">ALERTA DO SISTEMA</h2>
        <p id="alert-message">...</p>
        <button class="btn-warning w-100" onclick="ui.closeModal('alert-modal')">CIENTE</button>
    </div>
</div>

<div id="room-modal" class="modal-overlay hidden">
    <div class="modal-box room-box-style">
        <h2>BANCO DE DADOS: C√îMODOS</h2>
        <div class="room-list-container">
            <h3>C√îMODOS I (B√ÅSICOS)</h3>
            <div id="rooms-tier-1" class="room-list"></div>
            <h3>C√îMODOS II (AVAN√áADOS)</h3>
            <div id="rooms-tier-2" class="room-list"></div>
        </div>
        <button class="btn-outline w-100" onclick="ui.closeModal('room-modal')">FECHAR</button>
    </div>
</div>

<div id="setup-screen" class="setup-overlay">
    <div class="setup-box">
        <h1>NEMESIS <span class="sys-text">COMPANION</span></h1>
        <p>SELECIONE O N√öMERO DE TRIPULANTES:</p>
        <div class="player-select-grid">
            <button onclick="game.startGame(1)">1</button>
            <button onclick="game.startGame(2)">2</button>
            <button onclick="game.startGame(3)">3</button>
            <button onclick="game.startGame(4)">4</button>
            <button onclick="game.startGame(5)">5</button>
        </div>
    </div>
</div>

<div id="main-interface" class="container hidden">
    <header>
        <div class="header-content">
            <h1>NEMESIS <span class="sys-text">OS</span> <span class="version">v10.0</span></h1>
        </div>
        <div style="display:flex; gap:5px;">
            <button onclick="ui.openRoomModal()" class="btn-outline small">üìÑ C√îMODOS</button>
            <button id="btn-reset" class="btn-danger small">REINICIAR</button>
        </div>
    </header>

    <div class="main-grid">
        
        <section class="phase-column player-zone">
            <div class="zone-header">
                <h2>FASE DOS JOGADORES</h2>
                <div class="zone-icon">üë§</div>
            </div>

            <div class="panel encounter-panel">
                <h3 class="panel-header">GERADOR DE ENCONTRO</h3>
                <button id="btn-encounter" class="btn-warning w-100">‚ö†Ô∏è ROLAR ENCONTRO / RU√çDO</button>
                
                <div id="encounter-result-area" class="encounter-display hidden">
                    <div class="scan-line-anim"></div>
                    <span class="label">RESULTADO:</span>
                    <div id="encounter-token-name" class="token-large">...</div>
                    <div id="encounter-action-text" class="action-small">...</div>
                </div>
            </div>

            <div class="panel combat-panel">
                <h3 class="panel-header">
                    CALCULADORA DE COMBATE
                    <span class="deck-counter">DECK: <span id="attack-deck-count">20</span></span>
                </h3>
                
                <button class="btn-health-check w-100" onclick="ui.triggerHealthCheck()">
                    üî´ DANO DO JOGADOR
                </button>

                <div class="separator-text">--- OU ATAQUE DA INTRUSORA ---</div>
                
                <div class="combat-grid">
                    <button class="btn-combat" onclick="ui.triggerAttack('Larva')">LARVA</button>
                    <button class="btn-combat" onclick="ui.triggerAttack('Rastejadora')">RASTEJ.</button>
                    <button class="btn-combat" onclick="ui.triggerAttack('Adulto')">ADULTA</button>
                    <button class="btn-combat" onclick="ui.triggerAttack('Reprodutora')">REPROD.</button>
                    <button class="btn-combat" onclick="ui.triggerAttack('Rainha')">RAINHA</button>
                </div>

                <div id="combat-result" class="combat-display hidden">
                    <div class="combat-header">
                        <span id="attacker-name">ALVO</span>
                    </div>
                    <div class="combat-flex-row">
                        <div class="hp-display">
                            <span class="hp-label">HP</span>
                            <span id="card-hp-value" class="hp-value">0</span>
                        </div>
                        <div class="card-info-col">
                            <div id="attack-card-name" class="combat-card-title"></div>
                            <div id="attack-effect" class="attack-text">...</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel bag-panel">
                <h3 class="panel-header">
                    BOLSA DE INTRUSORAS
                    <span id="total-tokens" class="stat-counter">0 ASSINATURAS</span>
                </h3>
                
                <div id="bag-overlay" class="bag-overlay">
                    <div class="lock-text">DADOS OCULTOS</div>
                    <button class="btn-outline" onclick="ui.toggleBagVisibility()">VISUALIZAR</button>
                </div>

                <div id="bag-content" class="hidden">
                    <div class="bag-text-list" id="bag-ui"></div>
                    <div class="control-bar">
                        <button class="btn-outline small" id="btn-toggle-edit">MODO MANUAL</button>
                    </div>
                    <button class="btn-hide-bag" onclick="ui.toggleBagVisibility()">OCULTAR</button>
                </div>
            </div>
        </section>


        <section class="phase-column event-zone">
            <div class="zone-header">
                <h2>FASE DE EVENTO</h2>
                <div class="zone-icon">‚ö†Ô∏è</div>
            </div>

            <div class="panel status-panel">
                <div class="status-module blue-module">
                    <div class="status-label">TEMPO</div>
                    <div class="counter-control">
                        <button class="btn-icon" onclick="game.updateCounter('turn', -1)">-</button>
                        <div id="turn-display" class="status-value glitch-text">15</div>
                        <button class="btn-icon" onclick="game.updateCounter('turn', 1)">+</button>
                    </div>
                </div>
                <div class="status-module red-module">
                    <div class="status-label">AUTODESTRUI√á√ÉO</div>
                    <div class="counter-control">
                        <button class="btn-icon danger" onclick="game.toggleSelfDestruct()">I/O</button>
                        <div id="sd-display" class="status-value danger-text">OFF</div>
                        <div class="mini-controls" id="sd-controls" style="display:none">
                        <button class="btn-mini" onclick="game.updateCounter('selfDestruct', 1)">+</button>
                        <button class="btn-mini" onclick="game.updateCounter('selfDestruct', -1)">-</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="btn-death w-100" onclick="game.reportDeath()">üíÄ REGISTRAR 1¬∫ √ìBITO</button>

            <div class="panel event-flow-panel">
                <h3 class="panel-header">
                    PROTOCOLO DE EVENTOS
                    <span class="deck-counter">DECK: <span id="deck-count">--</span></span>
                </h3>
                
                <div id="step-1" class="step-box active">
                    <div class="step-indicator">PASSO 1: MANUTEN√á√ÉO</div>
                    <div class="checklist-box">
                        <p>1. Avance o Tempo.</p>
                        <p>2. Intrusoras em Combate atacam.</p>
                        <p>3. Dano de Fogo.</p>
                    </div>
                    <button class="w-100 btn-event-action" id="btn-step-2">COMPRAR CARTA DE EVENTO</button>
                </div>

                <div id="step-2" class="step-box">
                    <div class="step-indicator">PASSO 2: EFEITO DO EVENTO</div>
                    <div id="card-output" class="card-display"></div>
                    <button class="w-100 btn-event-action" id="btn-step-3">EVOLU√á√ÉO DA BOLSA</button>
                </div>

                <div id="step-3" class="step-box">
                    <div class="step-indicator">PASSO 3: DESENVOLVIMENTO</div>
                    <div id="bag-dev-result" class="bag-result"></div>
                    <div class="alert-box">Ao finalizar, o Tempo avan√ßa automaticamente.</div>
                    <button class="w-100 btn-event-action" id="btn-finish-phase">FINALIZAR FASE</button>
                </div>
            </div>
        </section>

    </div>

    <footer id="app-footer">TERMINAL ID: --</footer>
</div>

<script src="game.js"></script>
</body>
</html>
